# Configuration for Rasa NLU.
# https://rasa.com/docs/rasa/nlu/components/
language: fr

pipeline:
  # Tokenizer obligatoire pour les autres composants
- name: WhitespaceTokenizer

  # Composants de featurization
- name: RegexFeaturizer
- name: LexicalSyntacticFeaturizer

  # CountVectorsFeaturizer pour les mots
- name: CountVectorsFeaturizer
  analyzer: "word"
  min_ngram: 1
  max_ngram: 1

  # CountVectorsFeaturizer pour les caractères
- name: CountVectorsFeaturizer
  analyzer: "char_wb"
  min_ngram: 1
  max_ngram: 4

  # Classificateur principal
- name: DIETClassifier
  epochs: 100
  constrain_similarities: True

  # Gestion des synonymes d'entités
- name: EntitySynonymMapper

  # Sélecteur de réponses
- name: ResponseSelector
  epochs: 100

  # Classificateur de fallback
- name: FallbackClassifier
  threshold: 0.3

# Configuration for Rasa Core.
# https://rasa.com/docs/rasa/core/policies/
policies:
  # Politique de mémorisation
- name: MemoizationPolicy
  max_history: 5

  # Politique de règles
- name: RulePolicy
  core_fallback_threshold: 0.3
  core_fallback_action_name: "action_default_fallback"

  # Politique TED pour le dialogue
- name: TEDPolicy
  max_history: 5
  epochs: 100
  constrain_similarities: True
assistant_id: 20251106-134536-few-bold
